"use strict";console.log("global"),AOS.init({offset:100,duration:800,easing:"ease-in-quad"});var body=document.body,burger=document.querySelector(".burger"),headerNav=document.querySelector(".header__contacts"),headerLink=document.querySelectorAll(".link");burger.addEventListener("click",(function(){burger.classList.toggle("burger--active"),headerNav.classList.toggle("active"),body.classList.toggle("lock")})),headerLink.forEach((function(e){e.addEventListener("click",(function(e){headerNav.classList.remove("active"),burger.classList.remove("burger--active"),body.classList.remove("lock")}))}));var selector=document.querySelectorAll('input[type="tel"]'),im=new Inputmask("+7 (999) 999 - 99 - 99");im.mask(selector);var btns=document.querySelectorAll(".modal-open-btn"),modalOverlay=document.querySelector(".modal-overlay"),modals=document.querySelectorAll(".modal"),thanksPopup=document.querySelector(".thanks-popup"),cityBtn=document.querySelector(".city__btn");btns.forEach((function(e){e.addEventListener("click",(function(e){var t=e.currentTarget.getAttribute("data-path");modals.forEach((function(e){e.classList.remove("modal--visible")})),disableScroll(),document.querySelector('[data-target="'.concat(t,'"]')).classList.add("modal--visible"),modalOverlay.classList.add("modal-overlay--visible")}))})),modalOverlay.addEventListener("click",(function(e){e.target==modalOverlay&&(modalOverlay.classList.remove("modal-overlay--visible"),modals.forEach((function(e){e.classList.remove("modal--visible")})),thanksPopup.classList.remove("thanks-popup--visible"),enableScroll())}));var modalClose=document.querySelectorAll(".modal__close");modalClose.forEach((function(e){e.addEventListener("click",(function(e){modalOverlay.classList.remove("modal-overlay--visible"),modals.forEach((function(e){e.classList.remove("modal--visible"),thanksPopup.classList.remove("thanks-popup--visible")})),enableScroll()}))}));body=document.body;var padding=window.innerWidth-document.body.offsetWidth+"px",disableScroll=function(){var e=window.scrollY;document.body.classList.add("disable-scroll"),document.body.dataset.position=e,document.body.style.top=-e+"px",document.body.style.paddingRight=padding},enableScroll=function(){var e=parseInt(document.body.dataset.position,10);document.body.style.top="auto",document.body.classList.remove("disable-scroll"),window.scroll({top:e,left:0}),document.body.removeAttribute("data-position"),document.body.style.paddingRight=0},stepsSwiper=document.querySelector(".steps-swiper"),resultSwiper=document.querySelector(".result-swiper"),swiper=new Swiper(stepsSwiper,{slidesPerView:"auto",loop:!0,autoplay:{delay:2e3,disableOnInteraction:!1},pagination:{el:".steps-swiper-pagination"},navigation:{nextEl:".steps-swiper__button-next",prevEl:".steps-swiper__button-prev"}}),validateForms=(swiper=new Swiper(resultSwiper,{slidesPerView:1,loop:!0,autoplay:{delay:2500,disableOnInteraction:!1},effect:"fade",fadeEffect:{crossFade:!0},breakpoints:{569:{slidesPerView:"auto"},300:{slidesPerView:1}},pagination:{el:".result-swiper-pagination"},navigation:{nextEl:".result-swiper__button-next",prevEl:".result-swiper__button-prev"}}),function(e,t,o,a){new window.JustValidate(e,{rules:t,submitHandler:function(e){var t=new FormData(e),o=new XMLHttpRequest;o.onreadystatechange=function(){4===o.readyState&&200===o.status&&(console.log("Отправлено"),modals.forEach((function(e){e.classList.remove("modal--visible"),thanksPopup.classList.add("thanks-popup--visible");setTimeout((function(){window.location.href="https://mysmartcoffee.ru/thankyou.html"}),1e3)})))},o.open("POST","mail.php",!0),o.send(t),e.reset()}})});validateForms(".city__form",{email:{required:!0,email:!0},tel:{required:!0}},".thanks-popup","send goal"),validateForms(".modal-form",{email:{required:!0,email:!0},tel:{required:!0}},".thanks-popup","send goal"),validateForms(".modal-second",{email:{required:!0,email:!0},tel:{required:!0}},".thanks-popup","send goal"),validateForms(".modal-third",{email:{required:!0,email:!0},tel:{required:!0}},".thanks-popup","send goal"),require("./components/swiper"),require("./components/modals"),require("./components/mask"),require("./components/validate"),require("./components/fslightbox");