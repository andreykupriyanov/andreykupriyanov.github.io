"use strict";AOS.init({offset:100,duration:800,easing:"ease-in-quad"});var burger=document.querySelector(".header__burger"),headerNav=document.querySelector(".header__contacts"),headerLink=document.querySelectorAll(".header-contacts__link");burger.addEventListener("click",(function(){burger.classList.toggle("active"),headerNav.classList.toggle("active"),body.classList.toggle("lock")})),headerLink.forEach((function(e){e.addEventListener("click",(function(e){headerNav.classList.remove("active"),burger.classList.remove("active"),body.classList.remove("lock")}))}));var selector=document.querySelectorAll('input[type="tel"]'),im=new Inputmask("+7 (999) 999-99-99");im.mask(selector);var btns=document.querySelectorAll(".modal-open-btn"),modalOverlay=document.querySelector(".modal-overlay"),modals=document.querySelectorAll(".modal"),thanksPopup=document.querySelector(".thanks-popup");btns.forEach((function(e){e.addEventListener("click",(function(e){var t=e.currentTarget.getAttribute("data-path");modals.forEach((function(e){e.classList.remove("modal--visible")})),disableScroll(),document.querySelector('[data-target="'.concat(t,'"]')).classList.add("modal--visible"),modalOverlay.classList.add("modal-overlay--visible")}))})),modalOverlay.addEventListener("click",(function(e){e.target==modalOverlay&&(modalOverlay.classList.remove("modal-overlay--visible"),modals.forEach((function(e){e.classList.remove("modal--visible")})),thanksPopup.classList.remove("thanks-popup--visible"),enableScroll())}));var modalClose=document.querySelectorAll(".modal__close");modalClose.forEach((function(e){e.addEventListener("click",(function(e){modalOverlay.classList.remove("modal-overlay--visible"),modals.forEach((function(e){e.classList.remove("modal--visible"),thanksPopup.classList.remove("thanks-popup--visible")})),enableScroll()}))}));var body=document.body,padding=window.innerWidth-document.body.offsetWidth+"px",disableScroll=function(){var e=window.scrollY;document.body.classList.add("disable-scroll"),document.body.dataset.position=e,document.body.style.top=-e+"px",document.body.style.paddingRight=padding},enableScroll=function(){var e=parseInt(document.body.dataset.position,10);document.body.style.top="auto",document.body.classList.remove("disable-scroll"),window.scroll({top:e,left:0}),document.body.removeAttribute("data-position"),document.body.style.paddingRight=0},slider=document.querySelector(".work-swiper__container"),slider2=document.querySelector(".profit-swiper__container"),swiper=new Swiper(slider,{autoplay:{delay:2e3},loop:!0,slidesPerView:1,pagination:{el:".work-left__pag",renderBullet:function(e,t){return'<span class="'+t+'">Шаг '+(e+1)+"</span>"}},navigation:{nextEl:".work-left__swiper-button--next",prevEl:".work-left__swiper-button--prev"}}),tab=(swiper=new Swiper(slider2,{initialSlide:1,slidesPerView:1,pagination:{el:".profit-swiper__pag",clickable:!0}}),function(){var e=document.querySelectorAll(".tabs-nav__item"),t=document.querySelectorAll(".tab");function o(){e.forEach((function(e){e.classList.remove("is-active")})),this.classList.add("is-active"),function(e){t.forEach((function(t){t.classList.contains(e)?t.classList.add("is-active"):t.classList.remove("is-active")}))}(this.getAttribute("data-tab-name"))}e.forEach((function(e){e.addEventListener("click",o)}))});tab();var validateForms=function(e,t,o,a){new window.JustValidate(e,{rules:t,submitHandler:function(e){var t=new FormData(e),o=new XMLHttpRequest;o.onreadystatechange=function(){4===o.readyState&&200===o.status&&(console.log("Отправлено"),modals.forEach((function(e){e.classList.remove("modal--visible"),thanksPopup.classList.add("thanks-popup--visible")})))},o.open("POST","mail.php",!0),o.send(t),e.reset()}})};validateForms(".modal-pres",{email:{required:!0,email:!0},tel:{required:!0}},".thanks-popup","send goal"),validateForms(".modal-finmodel",{email:{required:!0,email:!0},tel:{required:!0}},".thanks-popup","send goal"),validateForms(".modal-plan",{email:{required:!0,email:!0},tel:{required:!0}},".thanks-popup","send goal"),require("./components/swiper"),require("./components/modals"),require("./components/aos"),require("./components/burger"),require("./components/mask"),require("./components/validate");